<div class="products-page">

  <div class="page-header">
    <h1>All Products</h1>
    <p>Browse our complete selection of delicious food</p>
  </div>

  <!-- Filter Section -->
  <div class="filters-section">
    <div class="search-box">
      <input
        type="text"
        placeholder="Search products..."
        [(ngModel)]="searchTerm"
        (input)="onSearchChange()"
        class="search-input"
      />
    </div>

    <div class="filter-controls">
      <div class="filter-group">
        <label>Category</label>
        <select [(ngModel)]="selectedCategory" (change)="onCategoryChange()" class="filter-select">
          <option value="">All Categories</option>
          <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
        </select>
      </div>

      <div class="filter-group">
        <label>Sort By</label>
        <select [(ngModel)]="sortBy" (change)="onSortChange()" class="filter-select">
          <option value="default">Default</option>
          <option value="name">Name (A-Z)</option>
          <option value="price-asc">Price (Low to High)</option>
          <option value="price-desc">Price (High to Low)</option>
        </select>
      </div>

      <button *ngIf="searchTerm || selectedCategory || sortBy !== 'default'" (click)="clearFilters()" class="clear-btn">
        Clear Filters
      </button>
    </div>
  </div>

  <!-- Results Count -->
  <div class="results-info">
    <p>Showing {{ filteredProducts.length }} product<span *ngIf="filteredProducts.length !== 1">s</span></p>
  </div>

  <!-- Products Grid -->
  <div class="products-grid" *ngIf="!loading && filteredProducts.length > 0">
    <app-product-card
      *ngFor="let p of filteredProducts"
      [product]="p">
    </app-product-card>
  </div>

  <!-- No Results -->
  <div class="no-results" *ngIf="!loading && filteredProducts.length === 0">
    <p>No products found matching your criteria.</p>
    <button (click)="clearFilters()" class="clear-btn">Clear Filters and Try Again</button>
  </div>

  <!-- Loading State -->
  <div class="loading" *ngIf="loading">
    <p>Loading products...</p>
  </div>

</div>
